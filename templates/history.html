<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>è¦‹ç©ã‚‚ã‚Šå±¥æ­´ä¸€è¦§</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 text-gray-800 font-sans">
  <div class="max-w-5xl mx-auto p-6 bg-white shadow-md mt-10 rounded-xl">
    <h1 class="text-2xl font-bold mb-6">ğŸ—‚ è¦‹ç©ã‚‚ã‚Šå±¥æ­´ä¸€è¦§</h1>

    {% if history %}
    <table class="w-full text-left border-collapse">
      <thead>
        <tr class="border-b font-semibold">
          <th class="p-2">æ—¥æ™‚</th>
          <th class="p-2">ãŠåå‰</th>
          <th class="p-2 text-right">ç¨è¾¼é‡‘é¡</th>
          <th class="p-2">æ“ä½œ</th>
        </tr>
      </thead>
      <tbody>
        {% for item in history %}
        <tr class="border-b hover:bg-gray-50">
          <td class="p-2">{{ item.timestamp }}</td>
          <td class="p-2">{{ item.name }}</td>
          <td class="p-2 text-right">Â¥{{ "{:,}".format(item.total_cost_with_tax) }}</td>
          <td class="p-2">
            <a href="/admin/history/{{ item.id }}"
               class="text-blue-600 hover:underline">è©³ç´°ã‚’è¦‹ã‚‹</a>
            <form method="POST" action="/admin/history/{{ item.id }}/delete"
                  class="inline-block ml-2"
                  onsubmit="return confirm('æœ¬å½“ã«å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ');">
              <button type="submit" class="text-red-600 hover:underline">
                ğŸ—‘ å‰Šé™¤
              </button>
            </form>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    {% else %}
      <p>å±¥æ­´ã¯ã¾ã ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
    {% endif %}

    <div class="mt-6 text-center">
      <a href="/admin" class="text-blue-500 hover:underline">â† ç®¡ç†ç”»é¢ã«æˆ»ã‚‹</a>
    </div>
  </div>
</body>
</html>
